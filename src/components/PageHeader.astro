---
import { getTagColor } from '../utils/tags';
import type { ImageMetadata } from 'astro';

interface Props {
	title: string;
	description: string;
	colorTag?: string;
	logo?: ImageMetadata;
	logoAlt?: string;
}

const { title, description, colorTag, logo, logoAlt = 'Logo' } = Astro.props;
const titleColor = colorTag ? getTagColor(colorTag, 'light') : null;
---

<header class:list={['page-header', { 'page-header--with-logo': logo }]}>
	<div class="page-header__content">
		<h1 class="page-header__title" style={titleColor ? `color: ${titleColor}` : undefined}>{title}</h1>
		<p class="page-header__description"><strong set:html={description} /></p>
	</div>
	{logo && (
		<div class="page-header__logo">
			<img src={logo.src} alt={logoAlt} width="150" height="150" />
		</div>
	)}
</header>

<style>
	.page-header {
		padding-bottom: 1rem;
		padding-top: 1rem;
	}
	
	.page-header--with-logo {
		display: flex;
		flex-direction: row;
		align-items: flex-start;
		gap: 1rem;
		margin-bottom: 1.5rem;
		padding: 1rem 0;
	}
	
	.page-header__content {
		flex: 1;
	}
	
	.page-header__title {
		margin-top: 0;
		margin-bottom: 0.5rem;
	}
	
	.page-header__description {
		font-size: 1rem;
		margin: 0;
		color: rgb(var(--text-color));
		opacity: 0.9;
	}
	
	.page-header__logo {
		flex-shrink: 0;
		margin-top: 1.625rem;
	}
	
	.page-header__logo img {
		display: block;
		width: 80px;
		height: 80px;
	}
	
	@media (width >= 769px) {
		.page-header {
			padding-top: 2rem;
		}
		
		.page-header--with-logo {
			gap: 3rem;
			margin-bottom: 3rem;
			padding: 2rem 0;
		}
		
		.page-header__description {
			font-size: 1.125rem;
		}
		
		.page-header__logo img {
			width: 150px;
			height: 150px;
		}
	}
</style>
