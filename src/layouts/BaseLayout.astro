---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { ClientRouter } from "astro:transitions";

interface Props {
	title: string;
	description?: string;
	wide?: boolean;
}

const { title, description = "", wide = false } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
		<ClientRouter fallback="none" />
	</head>
	<body>
		<div class="layout-container">
			<aside class="sidebar-container">
				<Header transition:persist />
			</aside>
			<div class={`main-wrapper ${wide ? "main-wrapper--wide" : ""}`}>
				<main class="main-content">			
					<slot name="hero" />
					<slot />
				</main>
				<Footer transition:persist />
			</div>
		</div>
	</body>
</html>


<style>
.layout-container {
	display: flex;
	flex-direction: column;
	min-height: 100vh;
	max-width: 1200px;
	margin: 0 auto;
	padding: 0;
}

.sidebar-container {
	position: static;
	height: auto;
	width: 100%;
	max-width: none;
	flex: none;
}

.main-wrapper {
	display: flex;
	flex-direction: column;
	align-items: center;
	width: 100vw;
	padding-top: 0px;
	overflow: hidden;
}

.main-wrapper--wide {
	max-width: none;
}

.main-content {
	width: 100%;
	max-width: 680px;
	padding: 1rem 1.5rem 3rem;
	overflow: hidden;
}

/* Desktop styles */
@media (min-width: 1025px) {
	.layout-container {
		flex-direction: row;
		padding: 0 3rem;
	}
	.sidebar-container {
		flex: 0 0 200px;
		min-width: 200px;
		max-width: 23vw;
		position: sticky;
		top: 0;
		height: 100vh;
		overflow: visible;
		margin-right: 0.5rem;
	}
	.main-wrapper {
		flex: 1 1 600px;
		padding-top: 1rem;
		border-left: 1px solid rgb(var(--border-color));
	}
	.main-wrapper--wide {
		padding-right: 2rem;
	}
	.main-content {
		padding: 2rem 0 5rem;
		margin-left: 5rem;
	}
}
</style>
